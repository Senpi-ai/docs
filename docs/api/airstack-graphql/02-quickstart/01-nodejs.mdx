---
description: Learn how to integrate the Moxie Offchain GraphQL API into your Node.js project in less than 5 minutes.
---

import Header from "../../../../src/components/QuickstartNode/Header";
import SetupProject from "../../../../src/components/QuickstartNode/SetupProject";
import Prerequisites from "../../../../src/components/QuickstartNode/Prerequisites";
import AddQuery from "../../../../src/components/QuickstartNode/AddQuery";
import ExecuteCode from "../../../../src/components/QuickstartNode/ExecuteCode";
import DeveloperSupport from "../../../../partial/_developer_support.mdx";
import url from "../../../../constant/api_url.json";

# Node.js

Airstack provides GraphQL API for querying certain Moxie Protocol data. In this tutorial, you will learn how to use the Airstack
GraphQL API to fetch data from Moxie Protocol in Node.js.

Here you will be shown an example of how to fetch off-chain Moxie Protocol Fan Token auctions data, such as auction
schedules and amount of fan tokens offered. Onchain data for Moxie Fan Tokens auctions and all other onchain Moxie
transactions can be found in the Moxie subgraphs.

For more details on Airstack API for Moxie Protocol please check out the API reference [here](../04-references/index.mdx).

## Pre-requisites

Before following the tutorial, make sure that your machine fulfills the following requirements:

- Node.js v.18+
- npm v.10+
- [Get Airstack API key](https://docs.airstack.xyz/airstack-docs-and-faqs/get-started/get-api-key)

## Step 1: Setup Node.js project

<SetupProject additionalDependencies="dotenv" />

Then, create a `.env` file in the root of your project and add your Airstack API key here:

```env
AIRSTACK_API_KEY=<YOUR_AIRSTACK_API_KEY>
```

## Step 2: Add Query Call To The Code

<AddQuery
  query={
    /* GraphQL*/ `query MyQuery {
  FarcasterFanTokenAuctions(
    input: {filter: {status: {_eq: UPCOMING}, entityType: {_in: [USER, CHANNEL, CHANNEL]}}, limit: 10, blockchain: ALL}
  ) {
    FarcasterFanTokenAuction {
      auctionId
      auctionSupply
      decimals
      entityId
      entityName
      entitySymbol
      entityType
      estimatedEndTimestamp
      estimatedStartTimestamp
      launchCastUrl
      minBiddingAmount
      minFundingAmount
      minPriceInMoxie
      subjectAddress
    }
  }
}`
  }
  headers={`{
  // Add Airstack API key here
  Authorization: process.env.AIRSTACK_API_KEY as string,
}`}
  subgraphLink={url.offchain_graphql_api}
  apiName="Airstack GraphQL"
/>

## Step 3: Execute The Code

<ExecuteCode
  result={`{
  "data": {
    "FarcasterFanTokenAuctions": {
      "FarcasterFanTokenAuction": [
        {
          "auctionId": null,
          "auctionSupply": 2.612e+21,
          "decimals": 18,
          "entityId": "screens",
          "entityName": "/screens",
          "entitySymbol": "cid:screens",
          "entityType": "CHANNEL",
          "estimatedEndTimestamp": "2024-08-07T14:00:00Z",
          "estimatedStartTimestamp": "2024-08-04T14:00:00Z",
          "launchCastUrl": "",
          "minBiddingAmount": 10000000000000000,
          "minFundingAmount": 0,
          "minPriceInMoxie": 1000000000000000000,
          "subjectAddress": "0xFeddb7c19D458833e082F4c7A8037DFa57F0929E"
        }
      ]
    }
  }
}`}
/>

<DeveloperSupport />
