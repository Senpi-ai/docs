---
description: "In this tutorial, you will learn how to retrieve the clearing price of a market using the Clearing Price API."
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import DeveloperSupport from "@site/partial/_developer_support.mdx";

# Get Clearing Price Of Certain Auction

In this tutorial, you will learn how to use the Moxie Offchain REST API to fetch the clearing price of a certain auction in Node.js.

## Pre-requisites

Before following the tutorial, make sure that your machine fulfills the following requirements:

- Node.js v.18+
- npm v.10+

In addition, make sure that you have `node-fetch` installed in your Node.js project. If you haven't installed it yet, you can do so by running the following command:

<Tabs>
    <TabItem value="npm" label="npm">

```bash
npm install node-fetch
```

    </TabItem>
    <TabItem value="yarn" label="yarn">

```bash
yarn add node-fetch
```

    </TabItem>
    <TabItem value="pnpm" label="pnpm">

```bash
pnpm add node-fetch
```

    </TabItem>
    <TabItem value="bun" label="bun">

```bash
bun install node-fetch
```

    </TabItem>

</Tabs>

## Step 1: Add REST API Call To The Code

You can easily call the Clearing Price API by sending a GET request providing the `auctionId` of the auction and specifying which chain you would like to fetch from on the `chainId` parameter by the following code snippet with `node-fetch`:

<Tabs>
    <TabItem value="ts" label="TypeScript">

```ts title="index.ts"
import fetch from "node-fetch";

const options = {
  method: "GET",
  headers: {
    accept: "application/json",
  },
};

// The ID of the auction you want to fetch the clearing price for
const auctionId = 19;

/*
 * The Chain ID to fetch the data from:
 * - 84532 is for Base Sepolia Testnet
 * - 8453 is for Base Mainnet
 */
const chainId = 84532;

fetch(
  `https://batch-auction.airstack.xyz/api/clearing-price?auctionId=${auctionId}&chainId=${chainId}`,
  options
)
  .then((response) => response.json())
  .then((response) => console.log(response))
  .catch((err) => console.error(err));
```

    </TabItem>
    <TabItem value="js" label="JavaScript">

```js title="index.js"
const fetch = require("node-fetch");

const options = {
  method: "GET",
  headers: {
    accept: "application/json",
  },
};

// The ID of the auction you want to fetch the clearing price for
const auctionId = 19;

/*
 * The Chain ID to fetch the data from:
 * - 84532 is for Base Sepolia Testnet
 * - 8453 is for Base Mainnet
 */
const chainId = 84532;

fetch(
  `https://batch-auction.airstack.xyz/api/clearing-price?auctionId=${auctionId}&chainId=${chainId}`,
  options
)
  .then((response) => response.json())
  .then((response) => console.log(response))
  .catch((err) => console.error(err));
```

    </TabItem>

</Tabs>

## Step 2: Execute Your Code

Once you have your code ready, you can execute it by running the following command:

<Tabs>
    <TabItem value="ts" label="TypeScript">

```sh
ts-node index.ts
```

    </TabItem>
    <TabItem value="js" label="JavaScript">

```sh
node index.js
```

    </TabItem>

</Tabs>

If it runs successfully, you should see the data returned in the terminal:

```json
{
  "auction": {
    "minBuyAmount": "37320999999999999737856",
    "initialSupply": "37320999999999999737856",
    "id": "0",
    "clearingPrice": 1,
    "userId": "0"
  }
}
```

Congrats! ðŸ¥³ðŸŽ‰ You've just fetched the clearing price of a certain auction!

<DeveloperSupport />
