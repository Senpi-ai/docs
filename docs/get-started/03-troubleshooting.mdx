---
sidebar_class_name: "adjustments"
---

import CopyPageButton from "@site/src/components/CopyPageButton";

# Troubleshooting

<CopyPageButton />

When building your Senpi Skill, you may encounter some common issues or errors that others have faced.

Here are some of the most common issues and their solutions:

## Common Issues

### AI Agent Not Choosing Your Skill

If your skill is not being chosen by the AI Agent, here are some steps to troubleshoot:

1. Ensure that you have added your action to your Skill's `action` field in `index.ts`.
2. Ensure that your Skill is properly registered in `characters/moxie.character.json` and `agent/package.json`. If it is, you should also see it in your terminal's log.
3. Once you ensure that your Skill is properly registered, try to add more specific `name` and `similes` that is closely-related to what your potential user will ask on your `action`'s definition.
4. If the issue persists, try to add more examples on your `action`'s `examples` field.

### Templates Not Extracting Values From User Input Correctly

When calling `generateObject` using your defined templates, sometimes it doesn't extract the values from the user's input correctly as what you have instructed.

In such cases, you can try the following steps to refine your templates:

1. Ensure that you have defined clearly what `variables` to extract and the variable types. Make sure to specify whether they are required or not.
2. Try to add more examples on your templates to train the AI Agent on more specific use cases.

## Errors

### SQLITE error on embedding vector size difference

This error occurs when the size of the embedding vector generated by your embedding model is different from the size of the vector in the database.

Usually, this happens randomly and it's hard to reproduce. The solution for this is to simply delete the `agent/data/db.sqlite` file and restart the skill.

### `Error: Dynamic require of "X" is not supported`

This error usually occurs when you have a `dynamic import` in your code, which usually is located within your ESM build.

The solution for this is simple. Just check which dependency does the `dynamic import` is coming from and add it to your `tsup.config.ts` file's `external` array.
