# getUserByMoxieId

## Description

`getUserByMoxieId` is a function that returns a user details by their Senpi User ID.

## Usage

```ts
import { getUserByMoxieId } from "@moxie-protocol/moxie-agent-lib";

const user = await getUserByMoxieId("M1");
```

## Response

```json
{
  "id": "M1",
  "userName": "vitalik.eth",
  "name": "vitalik.eth",
  "bio": null,
  "profileImageUrl": "https://i.imgur.com/Y1au7ZB.jpg",
  "referralCode": "TTg=",
  "referrerId": "M12",
  "communicationPreference": "WARPCAST",
  "primaryWalletId": "03463334-3c5c-4d08-9551-188f62b2586a",
  "moxieScore": 1000,
  "moxieRank": 0,
  "createdAt": "2024-12-20T14:37:34.348Z",
  "identities": [
    {
      "id": "fd14e2a4-11a2-4115-81b4-4b1d266ade64",
      "userId": "M1",
      "type": "FARCASTER",
      "connectedIdentitiesFetchStatus": "SUCCESS",
      "metadata": {
        "bio": "hullo",
        "username": "vitalik.eth",
        "displayName": "Vitalik Buterin",
        "fid": 15971,
        "pfp": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfC2vsceENh7G_Q-hg6Ju6YwVYqn6f_VXsMA&s",
        "type": "farcaster",
        "verifiedAt": "2025-02-03T06:50:41.000Z",
        "ownerAddress": "0xd8da6bf26964af9d7eed9e03e53415d37aa96045",
        "firstVerifiedAt": "2025-02-03T06:50:41.000Z",
        "latestVerifiedAt": "2025-02-03T06:50:41.000Z"
      },
      "profileId": "5650",
      "isActive": true,
      "createdAt": "2025-01-07T12:12:05.833Z",
      "updatedAt": "2025-01-07T12:12:05.833Z",
      "dataSource": "PRIVY"
    },
    {
      "id": "060e2d06-6fc4-45f8-8d51-3014a8406684",
      "userId": "M1",
      "type": "TWITTER",
      "connectedIdentitiesFetchStatus": "SUCCESS",
      "metadata": {
        "name": "vitalik.eth",
        "type": "twitter_oauth",
        "subject": "2893777598",
        "username": "VitalikButerin",
        "verifiedAt": "2025-01-06T19:28:06.000Z",
        "firstVerifiedAt": "2025-01-06T19:28:06.000Z",
        "latestVerifiedAt": "2025-01-06T19:28:06.000Z",
        "profilePictureUrl": "https://pbs.twimg.com/profile_images/1880759276169224192/rXpjZO0A_400x400.jpg"
      },
      "profileId": "VitalikButerin",
      "isActive": true,
      "createdAt": "2025-01-07T12:12:05.833Z",
      "updatedAt": "2025-01-07T12:12:05.833Z",
      "dataSource": "PRIVY"
    }
  ],
  "wallets": [
    {
      "id": "03463334-3c5c-4d08-9551-188f62b2586a",
      "userId": "M1",
      "walletAddress": "0xd8da6bf26964af9d7eed9e03e53415d37aa96045",
      "walletType": "injected",
      "createdAt": "2025-01-07T12:12:05.852Z",
      "deletedAt": null,
      "dataSource": "PRIVY"
    },
    {
      "id": "ef43dedc-9b17-49e0-93bf-94359d47f061",
      "userId": "M1",
      "walletAddress": "0xa5cc845ef113c4c0908d4c1f4616a000b9a67b80",
      "walletType": "embedded",
      "createdAt": "2025-01-07T12:12:05.852Z",
      "deletedAt": null,
      "dataSource": "PRIVY"
    }
  ],
  "vestingContracts": []
}
```

## Type Signatures

```ts
export async function getUserByMoxieId(
  userId: string
): Promise<MoxieUser | undefined>;
```

## Parameters

| Parameter | Type     | Description                                      |
| --------- | -------- | ------------------------------------------------ |
| `userId`  | `string` | The Senpi User ID of the user to get details for |

## Fields

| Name                      | Type                                                 | Description                                                     |
| ------------------------- | ---------------------------------------------------- | --------------------------------------------------------------- |
| `id`                      | `string`                                             | Unique identifier for the Senpi user                            |
| `userName`                | `string`                                             | User's chosen username                                          |
| `name`                    | `string`                                             | User's display name                                             |
| `bio`                     | `string`                                             | User's biography or description                                 |
| `profileImageUrl`         | `string`                                             | URL to user's profile image                                     |
| `referralCode`            | `string`                                             | User's unique referral code                                     |
| `referrerId`              | `string`                                             | ID of the user who referred this user                           |
| `moxieScore`              | `number`                                             | User's Senpi Score based on their activity and connections      |
| `moxieRank`               | `number`                                             | User's rank among all Senpi users                               |
| `totalUsers`              | `number`                                             | Total number of Senpi users                                     |
| `primaryWalletId`         | `string`                                             | ID of user's primary wallet                                     |
| `communicationPreference` | `string`                                             | User's preferred communication method                           |
| `createdAt`               | `string`                                             | Timestamp of when the user account was created                  |
| `identities`              | [`MoxieIdentity[]`](../types/moxieidentity.mdx)      | Array of connected social identities (Twitter, Farcaster, etc.) |
| `wallets`                 | [`MoxieWallet[]`](../types/moxiewallet.mdx)          | Array of connected crypto wallets                               |
| `vestingContracts`        | [`VestingContract[]`](../types/vestingcontracts.mdx) | Array of vesting contract information                           |
