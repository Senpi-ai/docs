---
sidebar_class_name: clock
description: Learn how to use the Moxie Everyday Rewards Claim API to check the user's claim transaction status.
---

import Prerequisites from "../../../src/components/Tutorials/Prerequisites";
import DeveloperSupport from "../../../partial/_developer_support.mdx";
import Header from "../../../src/components/Tutorials/Header";
import AddQuery from "../../../src/components/Tutorials/AddQuery";
import ExecuteCode from "../../../src/components/Tutorials/ExecuteCode";
import Install from "../../../src/components/Install";

# Check Claim Transaction Status

<Header
  useCase="check user's claim transaction status"
  apiName="Moxie Everyday Rewards Claim API"
/>

## Pre-requisites

1. Install dependencies `graphql`and`graphql-request` to your project :

<Install dependencies="graphql graphql-request" />

2. Your Airstack API key will need to be allow listed to have access to the Moxie Everyday Rewards Claim API. To request access, please fill in this form [here](https://forms.gle/th7hKumcxz3X5txZ6).

3. Have the transaction ID of the claim transaction you want to check. You should have received this transaction ID when you initiated the claim transaction from this tutorial [here](02-claim-everyday-rewards.mdx).

## Step 1: Add The API Query To Your Code

<AddQuery
  useCase="check user's claim transaction status"
  subgraphLink="https://claims.airstack.xyz/moxie"
  query={`query FarcasterUserClaimTransactionDetails(
  $fid: Int!
  $transactionId: String
) {
  FarcasterUserClaimTransactionDetails(
    input: { fid: $fid, transactionId: $transactionId }
  ) {
    transactionId
    transactionStatus
    transactionHash
    transactionAmount
    transactionAmountInWei
    rewardsLastEarnedTimestamp
  }
}`}
  headers={`{
  // Add Airstack API key here
  "x-airstack-claims": process.env.AIRSTACK_API_KEY as string,
}`}
  variable={`{
  fid: 3,
  transactionId: "0d9b17b2-07e2-41cb-8cf6-f8351ec7f669",
}`}
  response={`{
  "FarcasterUserClaimTransactionDetails": {
    "transactionId": "0d9b17b2-07e2-41cb-8cf6-f8351ec7f669",
    "transactionHash": "0x30e12445cc1375f544f99486d36fd144038007488e36f83ed90a2b79950dd66e",
    "transactionStatus": "SUCCESS", // If "SUCCESS", then the claim transaction was successful
    "transactionAmount": 1206.299242863659,
    "transactionAmountInWei": "1206299242863658974356",
    "rewardsLastEarnedTimestamp": "2024-08-15T00:00:00.000Z"
  }
}`}
/>

## Step 2: Execute Your Code

<ExecuteCode
  response={`{
  "FarcasterUserClaimTransactionDetails": {
    "transactionId": "0d9b17b2-07e2-41cb-8cf6-f8351ec7f669",
    "transactionHash": "0x30e12445cc1375f544f99486d36fd144038007488e36f83ed90a2b79950dd66e",
    "transactionStatus": "SUCCESS", // If "SUCCESS", then the claim transaction was successful
    "transactionAmount": 1206.299242863659,
    "transactionAmountInWei": "1206299242863658974356",
    "rewardsLastEarnedTimestamp": "2024-08-15T00:00:00.000Z"
  }
}`}
  dataFetched="user's claim transaction status"
/>

<DeveloperSupport />
