---
sidebar_position: 2
sidebar_class_name: clock
description: Learn how to use the Airstack GraphQL API to get all the fan token auction schedules by the fan token type.
---

import Prerequisites from "../../../src/components/Tutorials/Prerequisites";
import DeveloperSupport from "../../../partial/_developer_support.mdx";
import Header from "../../../src/components/Tutorials/Header";
import AddQuery from "../../../src/components/Tutorials/AddQuery";
import ExecuteCode from "../../../src/components/Tutorials/ExecuteCode";
import url from "../../../constant/api_url.json";

# Get Fan Token Auction Schedule By Fan Token Type

<Header
  useCase="all the fan token auction schedules by the fan token type"
  apiName="Airstack GraphQL"
/>

# Pre-requisites

<Prerequisites apiName="Airstack GraphQL" additionalDependencies="dotenv" />

In addition, to access the Airstack API, you should [get your Airstack API key](https://docs.airstack.xyz/airstack-docs-and-faqs/get-started/get-api-key).

For access to the Airstack API key, you'll need to **hold at least 1 /airstack Channel Fan Token** in either your Farcaster custodial wallet or one of your Farcaster verified wallets AND make sure that you have connected one of those wallet or your Farcaster account to your Airstack account.

If you don't have it yet, you can buy it [here](https://www.airstack.xyz/channels/airstack).

## Step 1: Add The API Query To Your Code

<AddQuery
  useCase="all the fan token auction schedules by their status"
  subgraphLink={url.offchain_graphql_api}
  query={`query MyQuery($fanTokenType: FarcasterFanTokenAuctionEntityType) {
  FarcasterFanTokenAuctions(
    input: {blockchain: ALL, filter: {entityType: {_eq: $fanTokenType}}}
  ) {
    FarcasterFanTokenAuction {
      auctionId
      auctionSupply
      decimals
      entityId
      entityName
      entitySymbol
      estimatedEndTimestamp
      estimatedStartTimestamp
      launchCastUrl
      minBiddingAmount
      minFundingAmount
      minPriceInMoxie
      status
      subjectAddress
    }
  }
}`}
  variable={`{
  // For example, to fetch all auction schedules for channel-type fan tokens
  "fanTokenType": "CHANNEL"
}`}
  headers={`{
  // Add Airstack API key here
  Authorization: process.env.AIRSTACK_API_KEY as string,
}`}
  response={`{
  "data": {
    "FarcasterFanTokenAuctions": {
      "FarcasterFanTokenAuction": [
        {
          "auctionId": null,
          "auctionSupply": 2.612e+21,
          "decimals": 18,
          "entityId": "screens",
          "entityName": "/screens",
          "entitySymbol": "cid:screens",
          "estimatedEndTimestamp": "2024-08-07T14:00:00Z",
          "estimatedStartTimestamp": "2024-08-04T14:00:00Z",
          "launchCastUrl": null,
          "minBiddingAmount": 10000000000000000,
          "minFundingAmount": 0,
          "minPriceInMoxie": 0,
          "status": "UPCOMING",
          "subjectAddress": "0xfeddb7c19d458833e082f4c7a8037dfa57f0929e"
        }
      ]
    }
  }
}`}
/>

## Step 2: Execute Your Code

<ExecuteCode
  response={`{
  "data": {
    "FarcasterFanTokenAuctions": {
      "FarcasterFanTokenAuction": [
        {
          "auctionId": null,
          "auctionSupply": 2.612e+21,
          "decimals": 18,
          "entityId": "screens",
          "entityName": "/screens",
          "entitySymbol": "cid:screens",
          "estimatedEndTimestamp": "2024-08-07T14:00:00Z",
          "estimatedStartTimestamp": "2024-08-04T14:00:00Z",
          "launchCastUrl": null,
          "minBiddingAmount": 10000000000000000,
          "minFundingAmount": 0,
          "minPriceInMoxie": 0,
          "status": "UPCOMING",
          "subjectAddress": "0xfeddb7c19d458833e082f4c7a8037dfa57f0929e"
        }
      ]
    }
  }
}`}
  dataFetched="all the fan token auction schedules by the fan token type"
/>

<DeveloperSupport />
